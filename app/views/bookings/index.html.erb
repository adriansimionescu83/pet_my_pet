<div class="index-banner" style="background-image: linear-gradient(rgba(0,0,0,0.2),rgba(0,0,0,0.2)), url(https://images.unsplash.com/photo-1513360371669-4adf3dd7dff8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1740&q=80); height: 30vh;">
  <h1>My Dashboard</h1>
</div>

<% if current_user.is_pet_owner %>
  <div class="text-center border border-dark-subtle rounded w-100 bg-color-#ede9ef" style="color: rgb(107, 0, 128); background-color: #ede9ef;">
    <h3 class="fw-bold mt-2">My Bookings as Pet Owner</h3>
  </div>

  <div class="d-flex flex-column justify-content-center items-center bg-body-secondary gap-2 w-100 p-2">

    <div class="d-flex flex-column border items-center w-100 p-2 w-100 bg-body-tertiary rounded">
      <h5 class="text-center fw-bold text-body-tertiary">My Pending Bookings</h5>

      <div class="container py-2">
        <div class="d-flex justify-content-evenly items-center">
          <% if @bookings_hash[:bookings_owner][:submitted].length > 0 %>
            <% @bookings_hash[:bookings_owner][:submitted].each do |booking| %>
              <div class="col-sm-12 col-md-6 col-lg-4 mb-4">
                <div class="card justify-content-center">
                  <%= link_to booking_path(booking) do %>
                    <%= cl_image_tag booking.pet.photo.attached? ? booking.pet.photo.key : "snvvma0kjax51gieabby", class: "puppy-pic", alt: "pet_image"%>
                  <% end %>
                  <div class="card-body">
                    <h5 class="card-title"><strong><%= booking.pet.name %> is booked from <%= booking.date_start%> to <%= booking.date_end %></strong></h5>
                    <p class="card-text"><%= booking.pet.description %></p>
                  </div>
                  <%= link_to "Delete", booking_path(booking), class: "btn btn-flat", method: :delete, data:{ confirm: "Are you sure?", turbo_method: :delete, turbo_confirm: "Are you sure?"  } %>
                </div>
              </div>
            <% end %>
          <% else %>
            <span class="text-body-tertiary">No bookings to show yet</span>
          <% end %>
        </div>
      </div>
    </div>

      
    <div class="d-flex flex-column border items-center w-100 p-2 w-100 bg-body-tertiary rounded">
      <h5 class="text-center fw-bold text-body-tertiary">My Approved Bookings</h5>

      <div class="container py-2">
        <div class="d-flex justify-content-evenly items-center">
          <% if @bookings_hash[:bookings_owner][:approved].length > 0 %>
            <% @bookings_hash[:bookings_owner][:approved].each do |booking| %>
              <div class="col-sm-12 col-md-6 col-lg-4 mb-4">
                <div class="card justify-content-center">
                  <%= link_to booking_path(booking) do %>
                    <%= cl_image_tag booking.pet.photo.attached? ? booking.pet.photo.key : "snvvma0kjax51gieabby", class: "puppy-pic", alt: "pet_image"%>
                  <% end %>
                  <div class="card-body">
                    <h5 class="card-title"><strong><%= booking.pet.name %> is booked from <%= booking.date_start%> to <%= booking.date_end %></strong></h5>
                    <p class="card-text"><%= booking.pet.description %></p>
                  </div>
                  <%= link_to "Delete", booking_path(booking), class: "btn btn-flat", method: :delete, data:{ confirm: "Are you sure?", turbo_method: :delete, turbo_confirm: "Are you sure?"  } %>
                </div>
              </div>
            <% end %>
          <% else %>
            <span class="text-body-tertiary">No bookings to show yet</span>
          <% end %>
        </div>
      </div>
    </div>


    <div class="d-flex flex-column border items-center w-100 p-2 w-100 bg-body-tertiary rounded">
      <h5 class="text-center fw-bold text-body-tertiary">My Completed Bookings</h5>

      <div class="container py-2">
        <div class="d-flex justify-content-evenly items-center">
          <% if @bookings_hash[:bookings_owner][:completed].length > 0 %>
            <% @bookings_hash[:bookings_owner][:completed].each do |booking| %>
              <div class="col-sm-12 col-md-6 col-lg-4 mb-4">
                <div class="card justify-content-center">
                  <%= link_to booking_path(booking) do %>
                    <%= cl_image_tag booking.pet.photo.attached? ? booking.pet.photo.key : "snvvma0kjax51gieabby", class: "puppy-pic", alt: "pet_image"%>
                  <% end %>
                  <div class="card-body">
                    <h5 class="card-title"><strong><%= booking.pet.name %> is booked from <%= booking.date_start%> to <%= booking.date_end %></strong></h5>
                    <p class="card-text"><%= booking.pet.description %></p>
                  </div>
                  <%= link_to "Delete", booking_path(booking), class: "btn btn-flat", method: :delete, data:{ confirm: "Are you sure?", turbo_method: :delete, turbo_confirm: "Are you sure?"  } %>
                </div>
              </div>
            <% end %>
          <% else %>
            <span class="text-body-tertiary">No bookings to show yet</span>
          <% end %>
        </div>
      </div>
    </div>
  </div>
<% end %>

<div class="text-center border border-dark-subtle rounded w-100 bg-color-#ede9ef" style="color: rgb(107, 0, 128); background-color: #ede9ef;">
  <h3 class="fw-bold mt-2">My Bookings as Pet Sitter</h3>
</div>

<div class="d-flex flex-column justify-content-center items-center bg-body-secondary gap-2 w-100 p-2">

  <div class="d-flex flex-column border items-center w-100 p-2 w-100 bg-body-tertiary rounded">
    <h5 class="text-center fw-bold text-body-tertiary">My Submitted Bookings</h5>

    <div class="container py-2">
      <div class="d-flex justify-content-evenly items-center">
        <% if @bookings_hash[:bookings_sitter][:submitted].length > 0 %>
          <% @bookings_hash[:bookings_sitter][:submitted].each do |booking| %>
            <div class="col-sm-12 col-md-6 col-lg-4 mb-4">
              <div class="card justify-content-center">
                <%= link_to booking_path(booking) do %>
                  <%= cl_image_tag booking.pet.photo.attached? ? booking.pet.photo.key : "snvvma0kjax51gieabby", class: "puppy-pic", alt: "pet_image"%>
                <% end %>
                <div class="card-body">
                  <h5 class="card-title"><strong><%= booking.pet.name %> is booked from <%= booking.date_start%> to <%= booking.date_end %></strong></h5>
                  <p class="card-text"><%= booking.pet.description %></p>
                </div>
                <%= link_to "Delete", booking_path(booking), class: "btn btn-flat", method: :delete, data:{ confirm: "Are you sure?", turbo_method: :delete, turbo_confirm: "Are you sure?"  } %>
              </div>
            </div>
          <% end %>
        <% else %>
          <span class="text-body-tertiary">No bookings to show yet</span>
        <% end %>
      </div>
    </div>
  </div>

    
  <div class="d-flex flex-column border items-center w-100 p-2 w-100 bg-body-tertiary rounded">
    <h5 class="text-center fw-bold text-body-tertiary">My Approved Bookings</h5>

    <div class="container py-2">
      <div class="d-flex justify-content-evenly items-center">
        <% if @bookings_hash[:bookings_sitter][:approved].length > 0 %>
          <% @bookings_hash[:bookings_sitter][:approved].each do |booking| %>
            <div class="col-sm-12 col-md-6 col-lg-4 mb-4">
              <div class="card justify-content-center">
                <%= link_to booking_path(booking) do %>
                  <%= cl_image_tag booking.pet.photo.attached? ? booking.pet.photo.key : "snvvma0kjax51gieabby", class: "puppy-pic", alt: "pet_image"%>
                <% end %>
                <div class="card-body">
                  <h5 class="card-title"><strong><%= booking.pet.name %> is booked from <%= booking.date_start%> to <%= booking.date_end %></strong></h5>
                  <p class="card-text"><%= booking.pet.description %></p>
                </div>
                <%= link_to "Delete", booking_path(booking), class: "btn btn-flat", method: :delete, data:{ confirm: "Are you sure?", turbo_method: :delete, turbo_confirm: "Are you sure?"  } %>
              </div>
            </div>
          <% end %>
        <% else %>
          <span class="text-body-tertiary">No bookings to show yet</span>
        <% end %>
      </div>
    </div>
  </div>


  <div class="d-flex flex-column border items-center w-100 p-2 w-100 bg-body-tertiary rounded">
    <h5 class="text-center fw-bold text-body-tertiary">My Rejected Bookings</h5>

    <div class="container py-2">
      <div class="d-flex justify-content-evenly items-center">
        <% if @bookings_hash[:bookings_sitter][:rejected].length > 0 %>
          <% @bookings_hash[:bookings_sitter][:rejected].each do |booking| %>
            <div class="col-sm-12 col-md-6 col-lg-4 mb-4">
              <div class="card justify-content-center">
                <%= link_to booking_path(booking) do %>
                  <%= cl_image_tag booking.pet.photo.attached? ? booking.pet.photo.key : "snvvma0kjax51gieabby", class: "puppy-pic", alt: "pet_image"%>
                <% end %>
                <div class="card-body">
                  <h5 class="card-title"><strong><%= booking.pet.name %> is booked from <%= booking.date_start%> to <%= booking.date_end %></strong></h5>
                  <p class="card-text"><%= booking.pet.description %></p>
                </div>
                <%= link_to "Delete", booking_path(booking), class: "btn btn-flat", method: :delete, data:{ confirm: "Are you sure?", turbo_method: :delete, turbo_confirm: "Are you sure?"  } %>
              </div>
            </div>
          <% end %>
        <% else %>
          <span class="text-body-tertiary">No bookings to show yet</span>
        <% end %>
      </div>
    </div>
  </div>


  <div class="d-flex flex-column border items-center w-100 p-2 w-100 bg-body-tertiary rounded">
    <h5 class="text-center fw-bold text-body-tertiary">My Completed Bookings</h5>

    <div class="container py-2">
      <div class="d-flex justify-content-evenly items-center">
        <% if @bookings_hash[:bookings_sitter][:completed].length > 0 %>
          <% @bookings_hash[:bookings_sitter][:completed].each do |booking| %>
            <div class="col-sm-12 col-md-6 col-lg-4 mb-4">
              <div class="card justify-content-center">
                <%= link_to booking_path(booking) do %>
                  <%= cl_image_tag booking.pet.photo.attached? ? booking.pet.photo.key : "snvvma0kjax51gieabby", class: "puppy-pic", alt: "pet_image"%>
                <% end %>
                <div class="card-body">
                  <h5 class="card-title"><strong><%= booking.pet.name %> is booked from <%= booking.date_start%> to <%= booking.date_end %></strong></h5>
                  <p class="card-text"><%= booking.pet.description %></p>
                </div>
                <%= link_to "Delete", booking_path(booking), class: "btn btn-flat", method: :delete, data:{ confirm: "Are you sure?", turbo_method: :delete, turbo_confirm: "Are you sure?"  } %>
              </div>
            </div>
          <% end %>
        <% else %>
          <span class="text-body-tertiary">No bookings to show yet</span>
        <% end %>
      </div>
    </div>
  </div>
</div>

